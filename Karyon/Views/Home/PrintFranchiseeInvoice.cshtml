@model Karyon.Models.CreateOrder

@{
    Layout = null;
}
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Print Invoice </title>


    <style>
        table, th, td {
            font-size: medium;
            /*border: 1px solid black;*/
            border-collapse: collapse;
        }

        th, td {
            font-size: medium;
            padding: 5px;
        }
    </style>
</head>
<body>
    @{
        decimal GrossAmt = 0;
        decimal SGSTAmt = 0;
        decimal CGSTAmt = 0;
        decimal TaxableAmt = 0;
        decimal FinalAmt = 0;
        int Pack = 0;
    }

    <div class="container">
        <div style="border: 1px solid #6f8542;padding-left: 10px;padding-right: 10px;" id="divcontent">
            <table style="border: 0px none black">
                <tbody>
                    <tr style="border: 0px none black">
                        <td>
                            <img src="/assets/images/logo.png" style="width: 170px" />
                            <br />
                            <i>Transforming Life with Nature</i>
                        </td>
                        <td></td>

                        <td></td>
                    </tr>
                </tbody>
            </table>

            <table style="width: 100%; background: #f1f1f1; color: black">
                <tbody>
                    <tr>
                        <td style="text-align: center;padding-bottom: 10px;">Transfer Invoice (Credit Note)</td>
                    </tr>
                </tbody>
            </table>

            <table style="width: 100%; border-collapse: collapse; border: 1px solid black;"
                   class="table table-striped">
                <tbody>
                    <tr>
                        <td style="width: 50%;border-collapse: collapse;border: 1px solid black;">
                            <table style="width: 100%" class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="text-align: center;background: #f1f1f1; color: black;">
                                            Shipping Details
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Name : </b>@ViewBag.ContactPerson</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Id : </b>@ViewBag.LoginId</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Address : </b>@ViewBag.DistrictName, @ViewBag.Address</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>GST No :@ViewBag.GSTNo </b></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>State : </b>@ViewBag.StateName</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>State Code : </b>@ViewBag.StateCode</td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td style="vertical-align: top;width:50%;border-collapse: collapse;border: 1px solid black;">
                            <table style="width: 100%" class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="text-align: center;background: #f1f1f1; color: black;">
                                            Company
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b></b></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>@CompanyDetails.ComapanyName</b></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">@CompanyDetails.Address1</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">@CompanyDetails.Address2 </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">@CompanyDetails.Address3 </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">@CompanyDetails.Phone </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">@CompanyDetails.GSTIN </td>
                                    </tr>
                                </tbody>
                            </table>
                    <tr>
                        <td style="width: 50%;border-collapse: collapse; border: 1px solid black;">
                            <table style="width: 100%;" class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="text-align: center;background: #f1f1f1; color: black;">
                                            Shipping Details
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Name : </b>@ViewBag.ContactPerson</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Id : </b>@ViewBag.LoginId</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Address : </b>@ViewBag.DistrictName, @ViewBag.Address</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>GST No :@ViewBag.GSTNo </b></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>State : </b>@ViewBag.StateName</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>State Code : </b>@ViewBag.StateCode</td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>

                        <td style="vertical-align: top;width:50%;border-collapse: collapse; border: 1px solid black;">
                            <table style="width: 100%;" class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="text-align: center;background: #f1f1f1; color: black;">
                                            Invoice Details
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2"></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Invoice No : </b> @ViewBag.OrderNo</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Invoice Date : </b>@ViewBag.OrderDate</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"> <b>P O No (Order No) : </b> @ViewBag.OrderNo</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>P O Date : </b> @ViewBag.OrderDate</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>

                </tbody>
            </table>

            <table style="width: 100%; border-collapse: collapse;margin-top: 5px;"
                   class="table table-striped ">
                <thead>
                    <tr>
                        <td style="border: 1px solid black">Product Name</td>
                        <td style="border: 1px solid black">Hsn Code</td>
                        <td style="border: 1px solid black">Box</td>
                        <td style="border: 1px solid black">Qty</td>
                        <td style="border: 1px solid black">Rate(₹)</td>
                        <td style="border: 1px solid black">Gross Amt(₹)</td>
                        <td style="border: 1px solid black">SGST(%)</td>
                        <td style="border: 1px solid black">SGST(₹)</td>
                        <td style="border: 1px solid black">CGST(%)</td>
                        <td style="border: 1px solid black">CGST(₹)</td>

                        <td style="border: 1px solid black">Net Amt(₹)</td>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null)
                    {

                        if (Model.dtDetails != null)
                        {
                            if (Model.dtDetails.Rows.Count > 0)
                            {



                                for (int j = 0; j <= Model.dtDetails.Rows.Count - 1; j++)
                                {
                                    Pack += int.Parse(Model.dtDetails.Rows[j]["BoxOty"].ToString());
                                    GrossAmt += decimal.Parse(Model.dtDetails.Rows[j]["GrossAmt"].ToString());
                                    SGSTAmt += decimal.Parse(Model.dtDetails.Rows[j]["SGSTAmt"].ToString());
                                    CGSTAmt += decimal.Parse(Model.dtDetails.Rows[j]["CGSTAmt"].ToString());
                                    FinalAmt += decimal.Parse(Model.dtDetails.Rows[j]["SubTotal"].ToString());
                                    TaxableAmt += SGSTAmt + CGSTAmt;

                                    <tr>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["ProductName"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["HSNCode"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["BoxOty"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["Qty"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["BoxPrice"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["GrossAmt"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["SGST"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["SGSTAmt"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["CGST"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["CGSTAmt"]</td>
                                        <td style="border: 1px solid black">@Model.dtDetails.Rows[j]["SubTotal"]</td>
                                    </tr>
                                }
                            }
                        }
                    }


                </tbody>
            </table>

            <table style="width: 100%; border-collapse: collapse"
                   class="table table-striped">
                <tbody>
                    <tr>
                        <td style="width: 60%">
                            <table style="width: 100%; border-collapse: collapse"
                                   class="table table-striped">
                                <tr style="border-collapse:collapse; border-bottom: 1px solid black;">
                                    <th style="padding-top: 85px;">Agriculture use only</th>
                                    <th style="padding-top: 85px;">Weight : 32 kg</th>
                                    <th style="padding-top: 85px;">@Pack Pack(s)</th>
                                </tr>
                            </table>
                        </td>
                        <td>
                            <table style="width: 100%; border-collapse: collapse"
                                   class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Before Tax Amount : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @GrossAmt
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Add : CGST : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @CGSTAmt
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Add : SGST : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @SGSTAmt
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Total Tax Amount : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @TaxableAmt
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Total Amount after Tax : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @FinalAmt
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%" class="table table-striped"></table>
            <table style="width: 100%" class="table table-striped">
                <tbody>
                    <tr>
                        <td style="text-align: left; background: #f1f1f1; color: black;padding-top: 5px;">
                            <b>Terms and Conditions</b>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 10px 0px 10px 0px;" colspan="2">
                            Declaration : we declare that this invoice shows the actual
                            price of the goods described and that all particulars are true
                            and correct. GST will be settled after actual sales.
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <table style="width: 100%;color: black">
            <tbody>
                <!-- <tr>
                  <td style="padding-top: 30px;"><b>Remarks : </b></td>
                </tr> -->
                <tr>
                    <td style="padding-top: 30px;">
                        (Note : This is system generated invoice, signature not required.)
                    </td>
                </tr>
            </tbody>
        </table>
    </div>




    <script>

        function printDiv() {
            $("#divcontent").show();
            window.print();

        }
    </script>
</body>