@model Karyon.Models.CreateOrder

@{
    Layout = null;
}
@{
    decimal TotalGross = 0;
    decimal TotalCGST = 0;
    decimal TotalSGST = 0;
    decimal AmountAfterTax = 0;
    decimal GSTAmount = 0;
    decimal TotalGSTAmount = 0;
    int TotalBox = 0;
    decimal ShippingCharges =0;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>invoice</title>
</head>
<body>
    <div class="container">
        <div style="

          padding-left: 10px;
          padding-right: 10px;
        ">
            @{
                ShippingCharges = ViewBag.ShippingCharges;
            }
            <table style="width: 100%; background: #f1f1f1; color: black;border-collapse: collapse; border: 1px solid black;margin-top:10px;">
                <tbody>
                    <tr>
                        <td style="width: 47%;">
                            <img src="/assets/images/logo.png" style="width: 170px;margin-left: 23px;padding-bottom: 5px;">
                        </td>
                        <td style="padding-bottom: 5px;">Dispatch Note</td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%; border-collapse: collapse; border: 1px solid black;">
                <tbody>
                    <tr>
                        <td style="text-align: center;padding-bottom: 10px;"></td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%; border-collapse: collapse; border: 1px solid black;"
                   class="table table-striped">
                <tbody>
                    <tr>
                        <td style="vertical-align: top;width:50%;border-collapse: collapse; border: 1px solid black;">
                            <table style="width: 100%;" class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="
                          text-align: center;
                          background: #f1f1f1;
                          color: black;
                        ">
                                            Consignee
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2"></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Id : </b>@ViewBag.LoginId</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Name : </b>@ViewBag.ContactPerson</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            <b>Address : </b>@ViewBag.Address
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Contact No : </b>@ViewBag.Mobile</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td style="vertical-align: top;width:50%;border-collapse: collapse;border: 1px solid black;">
                            <table style="width: 100%" class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="
                            text-align: center;
                            background: #f1f1f1;
                            color: black;
                          ">
                                            Company
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b></b></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            <b>
                                                @CompanyDetails.ComapanyName
                                            </b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            @CompanyDetails.Address1 @CompanyDetails.Address2
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            @CompanyDetails.Address3

                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            Contact : @CompanyDetails.Phone
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            Whatsapp: @CompanyDetails.WhatsUp

                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            Email Id : @CompanyDetails.Email
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                    <tr>
                        <td style="vertical-align: top;width:50%;border-collapse: collapse; border: 1px solid black;">
                            <table style="width: 100%;" class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="
                                text-align: center;
                                background: #f1f1f1;
                                color: black;
                              ">
                                            Consignee
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2"></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Id : </b>@ViewBag.ConsignerId</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Party Name : </b>@ViewBag.ConsignerName</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            <b>Address : </b>@ViewBag.ConsignerAddress
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            <b>Contact No : </b>@ViewBag.ConsignerMobile
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>

                        <td style="vertical-align: top;width:50%;border-collapse: collapse; border: 1px solid black;">
                            <table style="width: 100%;" class="table table-striped">
                                <tbody>

                                    <tr>
                                        <td colspan="2"></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Transfer Invoice No : </b> @ViewBag.InvoiceNo</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Invoice Date : </b> @ViewBag.InvoiceDate</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2">
                                            <b>Order No : </b> @ViewBag.OrderNo/@ViewBag.DispatchCount
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"><b>Order Date : </b> @ViewBag.OrderDate</td>
                                    </tr>
                                    <tr>
                                        <td style="padding-left: 5px;" colspan="2"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    </td>
                    </tr>
                </tbody>
            </table>

            <table style="width: 100%; border-collapse: collapse;margin-top: 5px;"
                   class="table table-striped">
                <thead>
                    <tr>
                        <td style="border: 1px solid black;padding-left: 2px;"> #</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> Particulars</td>
                        <td style="border: 1px solid black;padding-left: 3px;"> HSN CODE</td>

                        <td style="border: 1px solid black;padding-left: 5px;"> Qty</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> Rate<br>(₹)</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> Gross Amt<br>(₹)</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> CGST<br>(%)</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> CGST<br>(₹)</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> SGST<br>(%)</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> SGST<br>(₹)</td>
                        <td style="border: 1px solid black;padding-left: 5px;"> Net Amt<br>(₹)</td>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null)
                    {

                        if (Model.dtDetails != null)
                        {
                            if (Model.dtDetails.Rows.Count > 0)
                            {



                                for (int j = 0; j <= Model.dtDetails.Rows.Count - 1; j++)
                                {
                                    TotalGross = TotalGross + decimal.Parse(Model.dtDetails.Rows[j]["Gross"].ToString());
                                    TotalCGST = TotalCGST + decimal.Parse(Model.dtDetails.Rows[j]["CGSTAmt"].ToString());
                                    TotalSGST = TotalSGST + decimal.Parse(Model.dtDetails.Rows[j]["SGSTAmt"].ToString());
                                    AmountAfterTax = TotalGross + TotalCGST + TotalSGST;
                                    TotalBox = TotalBox + int.Parse(Model.dtDetails.Rows[j]["Box"].ToString());
                                    <tr>
                                        <td style="border: 1px solid black;padding-left: 2px;"> @(j+1) </td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["ProductName"]</td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["HSNCode"]</td>

                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["DispatchQty"]</td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["Rate"]</td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["Gross"]</td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["CGSTPerc"]</td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["CGSTAmt"]</td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["SGSTPerc"]</td>
                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["SGSTAmt"]</td>

                                        <td style="border: 1px solid black;padding-left: 5px;"> @Model.dtDetails.Rows[j]["NetAmt"]</td>
                                    </tr>
                                }
                            }
                        }
                    }

                </tbody>
            </table>

            <table style="width: 100%; border-collapse: collapse"
                   class="table table-striped">
                <tbody>
                    <tr>
                        <td style="width: 60%">
                            <table style="width: 100%; border-collapse: collapse"
                                   class="table table-striped">
                                <tr style="border-collapse: collapsed; border-bottom: 1px solid black;">
                                    <th style="padding-top: 85px;"> Weight :</th>
                                    <th style="padding-top: 85px;"> 0 kg</th>
                                    <th style="padding-top: 85px;">@TotalBox Pack(s)</th>
                                </tr>
                            </table>
                        </td>
                        <td>
                            <table style="width: 100%; border-collapse: collapse"
                                   class="table table-striped">
                                <tbody>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Before Tax Amount : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @TotalGross
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Add : CGST : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @TotalCGST
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Add : SGST : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @TotalSGST
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black" colspan="2">
                                            <b>Shipping Charges : </b>
                                        </td>
                                        <td style="border: 1px solid black" colspan="2">
                                            @ShippingCharges
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid black;" colspan="2">
                                            <b>Total Amount After Tax : </b>
                                        </td>
                                        <td style="border: 1px solid black;" colspan="2">
                                            @(AmountAfterTax + ShippingCharges)
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%" class="table table-striped"></table>
            <table style="width: 100%" class="table table-striped">
                <tbody>
                    <tr>
                        <td style="padding: 10px 0px 10px 0px;" colspan="2">
                            <b>Amount In Words</b> <br />
                            @ViewBag.AmountInWords

                        </td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%; background: #f1f1f1; color: black;border-collapse: collapse; border: 1px solid black;margin-top:10px;">
                <tbody>
                    <tr>
                        <td style="text-align: center;padding: 5px 5px;">Tax Summary</td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%; border-collapse: collapse;margin-top: 5px;"
                   class="table table-striped">
                <thead>
                    <tr>
                        <td style="border: 1px solid black;text-align: center;" rowspan="2"> HSN CODE</td>
                        <td style="border: 1px solid black;text-align: center;" rowspan="2"> Taxable Value</td>
                        <td style="border: 1px solid black;text-align: center;" colspan="2"> Center Tax</td>
                        <td style="border: 1px solid black;text-align: center;" colspan="2"> State Tax</td>
                        <td style="border: 1px solid black;text-align: center;" colspan="2"></td>
                    </tr>
                    <tr>

                        <td style="border: 1px solid black;text-align:center;">Rate</td>
                        <td style="border: 1px solid black;text-align:center;">Amount</td>
                        <td style="border: 1px solid black;text-align:center;">Rate</td>
                        <td style="border: 1px solid black;text-align:center;">Amount</td>
                        <td style="border: 1px solid black;text-align:center;">
                            Total Tax Amount
                        </td>

                    </tr>
                </thead>
                <tbody>
                    @if (Model != null)
                    {

                        if (Model.dtOrderDetails != null)
                        {
                            if (Model.dtOrderDetails.Rows.Count > 0)
                            {



                                for (int j = 0; j <= Model.dtOrderDetails.Rows.Count - 1; j++)
                                {
                                    GSTAmount = decimal.Parse(Model.dtOrderDetails.Rows[j]["SGSTAmt"].ToString()) + decimal.Parse(Model.dtOrderDetails.Rows[j]["SGSTAmt"].ToString());
                                    TotalGSTAmount = TotalGSTAmount + GSTAmount;
                                    <tr>
                                        <td style="border: 1px solid black;text-align:center;"> @Model.dtOrderDetails.Rows[j]["HSNCode"]</td>
                                        <td style="border: 1px solid black;text-align:center;"> @Model.dtOrderDetails.Rows[j]["Gross"]</td>
                                        <td style="border: 1px solid black;text-align: center;"> @Model.dtOrderDetails.Rows[j]["CGSTPerc"]</td>
                                        <td style="border: 1px solid black;text-align: center;"> @Model.dtOrderDetails.Rows[j]["CGSTAmt"]</td>
                                        <td style="border: 1px solid black;text-align: center;"> @Model.dtOrderDetails.Rows[j]["SGSTPerc"]</td>
                                        <td style="border: 1px solid black;text-align: center;"> @Model.dtOrderDetails.Rows[j]["SGSTAmt"]</td>
                                        <td style="border: 1px solid black;text-align: center;"> @GSTAmount</td>
                                    </tr>
                                }
                            }
                        }
                    }


                </tbody>
            </table>

            <table style="width: 100%" class="table table-striped">
                <tbody>
                    <tr>
                        <td style="padding: 10px 0px 10px 0px;" colspan="2">
                            <b>Company's Gstno:	</b> <br />@CompanyDetails.GSTIN<br />
                            <b>Consignee's Gstno:	</b> @ViewBag.GSTNo<br />
                            
                        </td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%;" class="table table-striped">
                <tbody>
                    <tr>
                        <td style="padding: 10px 0px 10px 0px;" colspan="2">
                            <b>
                                Declaration
                            </b> <br />
                            we declare that this invoice shows the actual price of the goods described and that all particulars are true and correct. GST will be settled after actual sales.
                        </td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%;color: black">
                <tbody>
                    <tr>
                        <td style="text-align: center;">Subject To Pune Jurisdiction</td>
                    </tr>
                </tbody>
            </table>
            <table style="width: 100%;color: black">
                <tbody>
                    <!-- <tr>
                      <td style="padding-top: 30px;"><b>Remarks : </b></td>
                    </tr> -->
                    <tr>
                        <td style="padding-top: 10px;text-align: center;">
                            <b>(Note : This is system generated invoice, signature not required.)</b>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        function printDiv() {
            $("#divcontent").show();
            window.print();
        }
    </script>
    <script src="/_framework/aspnetcore-browser-refresh.js"></script>
</body>
</html>